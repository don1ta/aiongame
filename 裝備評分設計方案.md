# 裝備評分系統設計方案

## 🎮 設計理念

### 核心原則
1. **品階為基礎** - 品階決定裝備的基本價值
2. **強化為提升** - 強化等級體現玩家投入
3. **突破為頂尖** - 突破等級是頂尖玩家的標誌
4. **非線性成長** - 越高級的提升越有價值

---

## 📊 方案一：指數加權系統（推薦）

### 單件裝備評分公式

```
基礎分 = 品階分數
強化加成 = 基礎分 × (強化等級 / 20)^1.2
突破加成 = 基礎分 × (突破等級 / 5)^1.5
閃耀加成 = 基礎分 × 0.2

單件得分 = 基礎分 + 強化加成 + 突破加成 + 閃耀加成
```

### 品階分數表

| 品階 | 基礎分 | 說明 |
|------|--------|------|
| 神話 | 10.0 | 最高品階 |
| 傳說 | 7.0 | 高級品階 |
| 史詩 | 4.5 | 中級品階 |
| 特殊 | 2.5 | 低級品階 |
| 稀有 | 1.5 | 入門品階 |
| 普通 | 0.5 | 基礎品階 |

### 計算範例

#### 範例1：神話+0
```
基礎分: 10.0
強化加成: 10.0 × (0/20)^1.2 = 0
突破加成: 10.0 × (0/5)^1.5 = 0
單件得分: 10.0
```

#### 範例2：神話+15
```
基礎分: 10.0
強化加成: 10.0 × (15/20)^1.2 = 10.0 × 0.72 = 7.2
突破加成: 0
單件得分: 17.2
```

#### 範例3：神話+20
```
基礎分: 10.0
強化加成: 10.0 × (20/20)^1.2 = 10.0
突破加成: 0
單件得分: 20.0
```

#### 範例4：神話+20+5突破
```
基礎分: 10.0
強化加成: 10.0 × (20/20)^1.2 = 10.0
突破加成: 10.0 × (5/5)^1.5 = 10.0
單件得分: 30.0
```

#### 範例5：神話+25閃耀
```
基礎分: 10.0
強化加成: 10.0 × (25/20)^1.2 = 10.0 × 1.26 = 12.6
閃耀加成: 10.0 × 0.2 = 2.0
單件得分: 24.6
```

### 滿分設定

```
滿裝：12件神話+20+5突破閃耀
單件滿分: 10 + 10 + 10 + 2 = 32
總分滿分: 32 × 12 = 384
轉換為30分制: (實際總分 / 384) × 30
```

### PR百分位對照表

| 總分範圍 | PR百分位 | 等級 | 說明 |
|----------|----------|------|------|
| 320+ | 99% | SSS | 頂尖玩家 |
| 280-319 | 95% | SS | 優秀玩家 |
| 240-279 | 85% | S | 高階玩家 |
| 200-239 | 70% | A | 中上玩家 |
| 160-199 | 50% | B | 中等玩家 |
| 120-159 | 30% | C | 發展中 |
| 80-119 | 15% | D | 新手 |
| 40-79 | 5% | E | 初期 |
| 0-39 | 1% | F | 剛開始 |

---

## 📊 方案二：線性加權系統（簡單）

### 單件裝備評分公式

```
單件得分 = 品階分 × (1 + 強化係數 + 突破係數 + 閃耀係數)

強化係數 = 強化等級 × 0.04  (最高+20 = 0.8)
突破係數 = 突破等級 × 0.15  (最高+5 = 0.75)
閃耀係數 = 0.2
```

### 品階分數表（同方案一）

### 計算範例

#### 範例1：神話+0
```
品階分: 10.0
係數: 1 + 0 + 0 + 0 = 1.0
單件得分: 10.0 × 1.0 = 10.0
```

#### 範例2：神話+15
```
品階分: 10.0
強化係數: 15 × 0.04 = 0.6
係數: 1 + 0.6 = 1.6
單件得分: 10.0 × 1.6 = 16.0
```

#### 範例3：神話+20+5突破閃耀
```
品階分: 10.0
強化係數: 20 × 0.04 = 0.8
突破係數: 5 × 0.15 = 0.75
閃耀係數: 0.2
係數: 1 + 0.8 + 0.75 + 0.2 = 2.75
單件得分: 10.0 × 2.75 = 27.5
```

### 滿分設定

```
滿裝：12件神話+20+5突破閃耀
單件滿分: 10 × 2.75 = 27.5
總分滿分: 27.5 × 12 = 330
轉換為30分制: (實際總分 / 330) × 30
```

---

## 📊 方案三：混合系統（平衡）

### 單件裝備評分公式

```
基礎分 = 品階分數
強化分 = 品階分 × (強化等級 / 20) × 0.8
突破分 = 品階分 × (突破等級 / 5) × 1.0
閃耀分 = 品階分 × 0.2

單件得分 = 基礎分 + 強化分 + 突破分 + 閃耀分
```

### 計算範例

#### 神話+20+5突破閃耀
```
基礎分: 10.0
強化分: 10.0 × (20/20) × 0.8 = 8.0
突破分: 10.0 × (5/5) × 1.0 = 10.0
閃耀分: 10.0 × 0.2 = 2.0
單件得分: 30.0
```

### 滿分設定

```
滿裝：12件神話+20+5突破閃耀
單件滿分: 30.0
總分滿分: 30.0 × 12 = 360
轉換為30分制: (實際總分 / 360) × 30
```

---

## 🎯 推薦方案對比

| 特性 | 方案一（指數） | 方案二（線性） | 方案三（混合） |
|------|---------------|---------------|---------------|
| 計算複雜度 | 中 | 低 | 低 |
| 區分度 | 高 | 中 | 中高 |
| 頂尖玩家優勢 | 明顯 | 一般 | 明顯 |
| 新手友好度 | 中 | 高 | 中 |
| 滿分 | 384 | 330 | 360 |

---

## 💡 我的推薦：方案三（混合系統）

### 理由

1. **計算簡單** - 不需要指數運算
2. **區分度好** - 突破的高權重體現頂尖玩家價值
3. **平衡合理** - 各階段玩家都有成長空間
4. **數值直觀** - 滿分360，單件滿分30

### 實作程式碼

```javascript
// 對單件裝備計算得分
const baseScore = info.baseScore;  // 品階分數
const enchantLevel = d.enchantLevel || 0;
const exceedLevel = item.exceedLevel || 0;
const isShining = info.isShining;

// 計算各項加成
const enchantBonus = baseScore * (enchantLevel / 20) * 0.8;
const exceedBonus = baseScore * (exceedLevel / 5) * 1.0;
const shineBonus = isShining ? baseScore * 0.2 : 0;

// 單件得分
const itemScore = baseScore + enchantBonus + exceedBonus + shineBonus;

// 總分轉換為30分制
const finalScore = (totalScore / 360) * 30;
```

---

## 📈 裝備進度參考表（方案三）

| 裝備配置 | 單件分 | 12件總分 | 30分制 | PR等級 |
|----------|--------|----------|--------|--------|
| 神話+0 | 10.0 | 120 | 10.0 | D |
| 神話+10 | 14.0 | 168 | 14.0 | C+ |
| 神話+15 | 16.0 | 192 | 16.0 | B |
| 神話+20 | 18.0 | 216 | 18.0 | B+ |
| 神話+20+3突破 | 24.0 | 288 | 24.0 | S |
| 神話+20+5突破 | 28.0 | 336 | 28.0 | SS |
| 神話+20+5突破閃耀 | 30.0 | 360 | 30.0 | SSS |

您覺得這個方案如何？需要調整嗎？
